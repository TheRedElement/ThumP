<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThumP!</title>

    <link rel="stylesheet" href="style/thump.css">
</head>
<body>
    <nav></nav>
    
    <main>
        <h1>ThumP! Thumbnail Preselector</h1>
        <section id="controls">
            <h2 id="controls-head" class="controls-title">Controls</h2>
            <div id="controls-wrapper" class="controls-wrapper">
                <div class="global-controls">
                    <div class="parameter">
                        <label for="colwidth">Col Width [px]</label>
                        <div class="tooltip">
                            Column width in pixels.
                            Updates on change (You might have to hit enter/return).
                        </div>
                        <input class="global-option" id="colwidth"  type="number" step="1" value="100" placeholder="Col width [px]" onchange="updateGrid()">
                    </div>
                    <div class="parameter">
                        <label for="rowheight">Row Height [px]</label>
                        <div class="tooltip">
                            Row height in pixels.
                            Updates on change (You might have to hit enter/return).
                        </div>
                        <input class="global-option" id="rowheight" type="number" step="1" value="100" placeholder="Row Height [px]" onchange="updateGrid()">
                    </div>
                    <div class="parameter">
                        <label for="zmin">Color Limits</label>
                        <div class="tooltip">
                            Color limits/limits in z-direction.
                            zmin sets the lower bound of the color-map (everything below that will be colored as the color representing the minimum).
                            zmax sets the lower bound of the color-map (everything below that will be colored as the color representing the maximum).
                            Updates on change (You might have to hit enter/return).
                        </div>
                        <input type="number" id="zmin" class="global-option" step="0.1" placeholder="zmin" value="" onchange="fillGrid({redraw:true})">
                        <input type="number" id="zmax" class="global-option" step="0.1" placeholder="zmax" value="" onchange="fillGrid({redraw:true})">
                    </div>
                    <div class="parameter">
                        <label for="pixelmath">Pixel Math</label>
                        <div class="tooltip">
                            Mathematical expression to evaluate on every pixel.
                            The pixel-value is represented by $z$.
                            Basic mathematical functions are supported as long as they are included in the <a href="https://github.com/silentmatt/expr-eval#readme">expr-eval</a> library.
                            Some examples include `z` (display raw data); `log10(z)` (logscale); `abs(z)` (absolute of z).
                            Updates on change (You might have to hit enter/return).
                        </div>                        
                        <input type="text" id="pixelmath" class="global-option" placeholder="math expression" value="x" onchange="fillGrid({redraw:true})">
                    </div>
                </div>
                <div class="global-selection">
                    <span class="heading">Subset</span>
                    <span class="heading">Select All</span>
                    <span class="heading">Invert</span>
                    <label for="select-all-good">Good</label>
                    <input type="checkbox" id="select-all-good" class="select-all good" onchange="selectAll(this)" >
                    <button id="invert-selection-good" class="invert-selection good" onclick="invertSelection(this)">&#10003;</button>
                    <label for="select-all-bad">Bad</label>
                    <input type="checkbox" id="select-all-bad" class="select-all bad" onchange="selectAll(this)" >
                    <button id="invert-selection-bad" class="invert-selection bad" onclick="invertSelection(this)">&#10003;</button>
                    <label for="select-all-ugly">Ugly</label>
                    <input type="checkbox" id="select-all-ugly" class="select-all ugly" onchange="selectAll(this)" >
                    <button id="invert-selection-ugly" class="invert-selection ugly" onclick="invertSelection(this)">&#10003;</button>
                </div>
                <div class="file-upload">
                    <label for="file-upload">Upload Files</label>
                    <input type="file" id="file-upload" onchange="uploadFiles()" multiple>
                </div>
                <button onclick="exportSelection()" class="io">Export Selection</button>
            </div>
            <h2 id="navigation-head" class="controls-title">Navigation</h2>
            <div id="navigation-wrapper">
                <ul>
                    <li>plots:
                        <ul>
                            <li>zoom: click + drag,</li>
                            <li>pan: shift + click + drag,</li>
                            <li>reset view: double click</li>
                        </ul>
                    </li>
                    <li>thumbnail mosaic:
                        <ul>
                            <li>ctrl + right arrow: scroll entire window right,</li>
                            <li>ctrl + left arrow: scroll entire window left,</li>
                        </ul>
                    </li>
                </ul>

            </div>
        </section>
        <section id="thumbnail-mosaic" class="thumbnail-mosaic">
            <h2>Thumbnails</h2>
            <div id="mosaic-grid" class="mosaic-grid">
                <!-- filled via JS -->
                <!-- <div class="cell">
                    <a href="...">ObjId</a>
                    <div class="selection-container">
                        <input type="checkbox" class="select-oobject good">
                        <input type="checkbox" class="select-oobject bad">
                        <input type="checkbox" class="select-oobject ugly">
                    </div>
                    <div class="thumbnail-container">
                        <div class="thumbnail">
                            <div class="plotly-wrapper">
                                <div class="plotly-plot">
                                    Some Plot
                                </div>
                            </div>
                        </div>
                        ... more thumbnails
                    </div>
                </div> -->
            </div>
        </section>
    </main>


    <footer>&copy;2026, <a href="https://theredelement.github.io" style="color: var(--c_tre);">Lukas Steinwender</a></footer>

    <!-- ############################################# -->
    <!-- scripts -->
	<!-- mathjax -->
	<script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-svg.js"></script>
	<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
	<script>
			MathJax = {
			tex: {
				inlineMath: [['$', '$'], ['\\(', '\\)']],
				displayMath: [['$$', '$$'], ['\\[', '\\]']]
			}
		};
	</script>

    <!-- plotly -->
    <script src="https://cdn.plot.ly/plotly-3.3.0.min.js" charset="utf-8"></script>   
    <!-- expr-eval -->
    <script src="https://unpkg.com/expr-eval@2.0.2/dist/bundle.min.js"></script>
    
    <!-- custom -->
    <script src="https://github.com/TheRedElement/LuStCodeSnippets/blob/dev/lustCodeSnippets_js/arrFunctions.js"></script>
    <script type="module" src="./scripts/thump.js"></script>
</body>
</html>